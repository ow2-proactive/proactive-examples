<?xml version="1.0" encoding="UTF-8"?>
<job
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="urn:proactive:jobdescriptor:3.13" xsi:schemaLocation="urn:proactive:jobdescriptor:3.13 http://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.13/schedulerjob.xsd"  name="Docker_Swarm_HDFS_Yarn_Hive_Service" projectName="Service Automation - Management" priority="normal" onTaskError="continueJobExecution"  maxNumberOfExecution="1"  >
    <variables>
        <variable name="node_source_name" value="" model="PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/nodesources)"/>
        <variable name="nb_yarn_hdfs_workers" value="3" model="PA:NOT_EMPTY_STRING"/>
        <variable name="INSTANCE_NAME" value="docker-swarm-hive-$PA_JOB_ID" model="PA:NOT_EMPTY_STRING"/>
    </variables>
    <description>
        <![CDATA[ Deploy a Docker Swarm-HDFS-YARN-Hive platform of nb_yarn_hdfs_workers YARN workers. node_source_name refers to the targeted node source of the platform deployment. ]]>
    </description>
    <genericInformation>
        <info name="bucketName" value="service-automation"/>
        <info name="workflow.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/hive.png"/>
        <info name="group" value="public-objects"/>
    </genericInformation>
    <taskFlow>
        <task name="Error_if_empty_node_source_name"

              onTaskError="cancelJob"


              fork="true">
            <scriptExecutable>
                <script>
                    <code language="groovy">
                        <![CDATA[
def node_source_name = variables.get("node_source_name")
if (node_source_name.isEmpty()){
  println("A node source name must be selected.")
  System.exit(1)
}
]]>
                    </code>
                </script>
            </scriptExecutable>
            <metadata>
                <positionTop>
                    590
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Start_Docker_Swarm_Service"

              onTaskError="cancelJob"


              fork="true">
            <description>
                <![CDATA[ Start the Docker_Swarm service. ]]>
            </description>
            <variables>
                <variable name="SERVICE_ID" value="Docker_Swarm" inherited="false" />
                <variable name="INSTANCE_NAME" value="swarm-$PA_JOB_ID" inherited="false" />
                <variable name="TARGETED_PA_NODE_SOURCE_NAME" value="$node_source_name" inherited="false" />
                <variable name="TARGETED_NB_PA_NODES" value="$nb_yarn_hdfs_workers" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/swarm.png"/>
            </genericInformation>
            <depends>
                <task ref="Error_if_empty_node_source_name"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Start/raw" language="groovy">
                        <arguments>
                            <argument value="false"/>
                            <argument value="false"/>
                            <argument value="INSTANCE_NAME"/>
                            <argument value="TARGETED_PA_NODE_SOURCE_NAME"/>
                            <argument value="TARGETED_NB_PA_NODES"/>
                        </arguments>
                    </file>
                </script>
            </scriptExecutable>
            <post>
                <script>
                    <code language="groovy">
                        <![CDATA[
// Propagate the swarm service instance id
def instance_name = variables.get("INSTANCE_NAME")
def instance_id = variables.get("INSTANCE_ID_" + instance_name)
variables.put("propagated_swarm_service_instance_id", instance_id)
]]>
                    </code>
                </script>
            </post>
            <metadata>
                <positionTop>
                    718
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Start_HDFS_Service"

              onTaskError="cancelJob"


              fork="true">
            <description>
                <![CDATA[ Start the HDFS service. ]]>
            </description>
            <variables>
                <variable name="SERVICE_ID" value="HDFS" inherited="false" />
                <variable name="INSTANCE_NAME" value="hdfs-$PA_JOB_ID" inherited="false" />
                <variable name="swarm_service_instance_id" value="$propagated_swarm_service_instance_id" inherited="false" />
                <variable name="nb_hdfs_datanodes" value="$nb_yarn_hdfs_workers" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/hdfs.png"/>
            </genericInformation>
            <depends>
                <task ref="Start_Docker_Swarm_Service"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Start/raw" language="groovy">
                        <arguments>
                            <argument value="true"/>
                            <argument value="false"/>
                            <argument value="INSTANCE_NAME"/>
                            <argument value="swarm_service_instance_id"/>
                            <argument value="nb_hdfs_datanodes"/>
                        </arguments>
                    </file>
                </script>
            </scriptExecutable>
            <post>
                <script>
                    <code language="groovy">
                        <![CDATA[
// Propagate the hdfs service instance id
def instance_name = variables.get("INSTANCE_NAME")
def instance_id = variables.get("INSTANCE_ID_" + instance_name)
variables.put("propagated_hdfs_service_instance_id", instance_id)
]]>
                    </code>
                </script>
            </post>
            <metadata>
                <positionTop>
                    846
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Start_yarn_service"

              onTaskError="cancelJob"


              fork="true">
            <description>
                <![CDATA[ Start the yarn service. ]]>
            </description>
            <variables>

                <variable name="SERVICE_ID" value="YARN" inherited="false" />
                <variable name="INSTANCE_NAME" value="yarn-$PA_JOB_ID" inherited="false" />
                <variable name="swarm_service_instance_id" value="$propagated_swarm_service_instance_id" inherited="false" />
                <variable name="hdfs_service_instance_id" value="$propagated_hdfs_service_instance_id" inherited="false" />
                <variable name="nb_yarn_workers" value="$nb_yarn_hdfs_workers" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/yarn.png"/>
            </genericInformation>
            <depends>
                <task ref="Start_HDFS_Service"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Start/raw" language="groovy">
                        <arguments>
                            <argument value="true"/>
                            <argument value="false"/>
                            <argument value="INSTANCE_NAME"/>
                            <argument value="swarm_service_instance_id"/>
                            <argument value="hdfs_service_instance_id"/>
                            <argument value="nb_yarn_workers"/>
                        </arguments>
                    </file>
                </script>
            </scriptExecutable>
            <controlFlow block="none"></controlFlow>
            <post>
                <script>
                    <code language="groovy">
                        <![CDATA[
// Retrieve variables
def yarn_service_instance_name = variables.get("INSTANCE_NAME")
def yarn_service_instance_id = variables.get("INSTANCE_ID_" + yarn_service_instance_name)
variables.put("propagated_yarn_service_instance_id", yarn_service_instance_id)
]]>
                    </code>
                </script>
            </post>
            <metadata>
                <positionTop>
                    974
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Start_hive_service"

              onTaskError="cancelJob"


              fork="true">
            <description>
                <![CDATA[ Start the hive service. ]]>
            </description>
            <variables>

                <variable name="SERVICE_ID" value="Hive" inherited="false" />
                <variable name="INSTANCE_NAME" value="hive-$PA_JOB_ID" inherited="false" />
                <variable name="hdfs_service_instance_id" value="$propagated_hdfs_service_instance_id" inherited="false" />
                <variable name="yarn_service_instance_id" value="$propagated_yarn_service_instance_id" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/hive.png"/>
            </genericInformation>
            <depends>
                <task ref="Start_yarn_service"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Start/raw" language="groovy">
                        <arguments>
                            <argument value="true"/>
                            <argument value="false"/>
                            <argument value="INSTANCE_NAME"/>
                            <argument value="hdfs_service_instance_id"/>
                            <argument value="yarn_service_instance_id"/>
                        </arguments>
                    </file>
                </script>
            </scriptExecutable>
            <controlFlow block="none"></controlFlow>
            <post>
                <script>
                    <code language="groovy">
                        <![CDATA[
// Retrieve variables
def hive_service_instance_name = variables.get("INSTANCE_NAME")
def hive_service_instance_id = variables.get("INSTANCE_ID_" + hive_service_instance_name)

// To results
resultMap.put("hive_service_instance_id", hive_service_instance_id)
]]>
                    </code>
                </script>
            </post>
            <metadata>
                <positionTop>
                    1102
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="wait_for_stop"




              fork="true">
            <description>
                <![CDATA[ A template task that sends a ready notification for all the signals specified in the variable SIGNALS, then loops until one signal among those specified is received by the job. ]]>
            </description>
            <variables>
                <variable name="SIGNALS" value="Terminate_job_and_service" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/signal-wait.png"/>
                <info name="TASK.DOCUMENTATION" value="user/ProActiveUserGuide.html#_task_signal_api"/>
            </genericInformation>
            <depends>
                <task ref="Start_hive_service"/>
            </depends>
            <scriptExecutable>
                <script>
                    <code language="groovy">
                        <![CDATA[
import com.google.common.base.Splitter;

if (variables.get("PA_TASK_ITERATION")==0){

    // Read the variable SIGNALS
	signals = variables.get("SIGNALS")

	// Split the value of the variable SIGNALS and transform it into a list
	Set signalsSet = new HashSet<>(Splitter.on(',').trimResults().omitEmptyStrings().splitToList(signals))

    // Send a ready notification for each signal in the set
    println("Ready for signals "+ signalsSet)
    signalsSet.each {
        signal -> signalapi.readyForSignal(signal)
    }

    // Add the signals set as a variable to be used by next tasks
    variables.put("SIGNALS_SET", signalsSet)
}

//Read the variable SIGNALS_SET
Set signalsSet =  variables.get("SIGNALS_SET")

// Check whether one signal among those specified as input is received
println("Checking whether one signal in the set "+ signalsSet +" is received")
receivedSignal = signalapi.checkForSignals(signalsSet)

// If a signal is received, remove ready signals and break the loop, else sleep 10 seconds then restart
if (receivedSignal != null){

    // remove ready signals
	signalapi.removeManySignals(new HashSet<>(signalsSet.collect { signal -> "ready_"+signal }))

    // print the received signal
    println("Received signal: "+ receivedSignal.getName())
    result = receivedSignal.getName()

} else {
    result = null
}
]]>
                    </code>
                </script>
            </scriptExecutable>
            <controlFlow >
                <loop target="wait_for_stop">
                    <script>
                        <code language="groovy">
                            <![CDATA[
if (result!=null){
    loop = false
} else {
    loop = "* * * * *"
}
]]>
                        </code>
                    </script>
                </loop>
            </controlFlow>
            <metadata>
                <positionTop>
                    1230
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Stop_hive_service"

              onTaskError="cancelJob"


              fork="true">
            <variables>
                <variable name="INSTANCE_NAME" value="hive-$PA_JOB_ID" inherited="false" />
                <variable name="ACTION" value="Finish_Hive" inherited="false" />
                <variable name="INSTANCE_ID" value="" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/hive.png"/>
            </genericInformation>
            <depends>
                <task ref="wait_for_stop"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Action/raw" language="groovy"></file>
                </script>
            </scriptExecutable>
            <controlFlow block="none"></controlFlow>
            <metadata>
                <positionTop>
                    1358
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Stop_yarn_service"

              onTaskError="cancelJob"


              fork="true">
            <variables>
                <variable name="INSTANCE_NAME" value="yarn-$PA_JOB_ID" inherited="false" />
                <variable name="ACTION" value="Finish_YARN" inherited="false" />
                <variable name="INSTANCE_ID" value="" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/yarn.png"/>
            </genericInformation>
            <depends>
                <task ref="Stop_hive_service"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Action/raw" language="groovy"></file>
                </script>
            </scriptExecutable>
            <controlFlow block="none"></controlFlow>
            <metadata>
                <positionTop>
                    1486
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Stop_HDFS_Service"

              onTaskError="cancelJob"


              fork="true">
            <variables>
                <variable name="INSTANCE_NAME" value="hdfs-$PA_JOB_ID" inherited="false" />
                <variable name="ACTION" value="Finish_HDFS" inherited="false" />
                <variable name="INSTANCE_ID" value="" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/hdfs.png"/>
            </genericInformation>
            <depends>
                <task ref="Stop_yarn_service"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Action/raw" language="groovy"></file>
                </script>
            </scriptExecutable>
            <controlFlow block="none"></controlFlow>
            <metadata>
                <positionTop>
                    1614
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
        <task name="Stop_Docker_Swarm_Service"

              onTaskError="cancelJob"


              fork="true">
            <variables>
                <variable name="INSTANCE_NAME" value="swarm-$PA_JOB_ID" inherited="false" />
                <variable name="ACTION" value="Finish_Docker_Swarm" inherited="false" />
                <variable name="INSTANCE_ID" value="" inherited="false" />
            </variables>
            <genericInformation>
                <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/swarm.png"/>
            </genericInformation>
            <depends>
                <task ref="Stop_HDFS_Service"/>
            </depends>
            <scriptExecutable>
                <script>
                    <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Action/raw" language="groovy"></file>
                </script>
            </scriptExecutable>
            <controlFlow block="none"></controlFlow>
            <metadata>
                <positionTop>
                    1742
                </positionTop>
                <positionLeft>
                    577.5
                </positionLeft>
            </metadata>
        </task>
    </taskFlow>
    <metadata>
        <visualization>
            <![CDATA[ <html>
    <head>
    <link rel="stylesheet" href="/studio/styles/studio-standalone.css">
        <style>
        #workflow-designer {
            left:0 !important;
            top:0 !important;
            width:2726px;
            height:3360px;
            }
        </style>
    </head>
    <body>
    <div id="workflow-visualization-view"><div id="workflow-visualization" style="position:relative;top:-585px;left:-572.5px"><div class="task _jsPlumb_endpoint_anchor_ ui-draggable" id="jsPlumb_1_475" style="top: 590px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="This task has no description"><img src="/studio/images/Groovy.png" width="20px">&nbsp;<span class="name">Error_if_empty_node_source_name</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_478" style="top: 718px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Start the Docker_Swarm service."><img src="/automation-dashboard/styles/patterns/img/wf-icons/swarm.png" width="20px">&nbsp;<span class="name">Start_Docker_Swarm_Service</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_481" style="top: 846px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Start the HDFS service."><img src="/automation-dashboard/styles/patterns/img/wf-icons/hdfs.png" width="20px">&nbsp;<span class="name">Start_HDFS_Service</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_484" style="top: 974px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Start the hive service."><img src="/automation-dashboard/styles/patterns/img/wf-icons/yarn.png" width="20px">&nbsp;<span class="name">Start_yarn_service</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_487" style="top: 1102px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Start the hive service."><img src="/automation-dashboard/styles/patterns/img/wf-icons/hive.png" width="20px">&nbsp;<span class="name">Start_hive_service</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_490" style="top: 1230px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="A template task that sends a ready notification for all the signals specified in the variable SIGNALS, then loops until one signal among those specified is received by the job."><img src="/automation-dashboard/styles/patterns/img/wf-icons/signal-wait.png" width="20px">&nbsp;<span class="name">wait_for_stop</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_493" style="top: 1358px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="This task has no description"><img src="/automation-dashboard/styles/patterns/img/wf-icons/hive.png" width="20px">&nbsp;<span class="name">Stop_hive_service</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_496" style="top: 1486px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="This task has no description"><img src="/automation-dashboard/styles/patterns/img/wf-icons/yarn.png" width="20px">&nbsp;<span class="name">Stop_yarn_service</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_499" style="top: 1614px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="This task has no description"><img src="/automation-dashboard/styles/patterns/img/wf-icons/hdfs.png" width="20px">&nbsp;<span class="name">Stop_HDFS_Service</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_502" style="top: 1742px; left: 577.5px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="This task has no description"><img src="/automation-dashboard/styles/patterns/img/wf-icons/swarm.png" width="20px">&nbsp;<span class="name">Stop_Docker_Swarm_Service</span></a></div><svg style="position:absolute;left:651.5px;top:629.5px" width="34" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 88 C -10 38 23 50 13 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-1.7219520000000006,66.303232 L9.11339332990344,48.093473858230524 L1.0605433106448878,52.582527942035654 L-4.607310728060904,45.310978547585634 L-1.7219520000000006,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-1.7219520000000006,66.303232 L9.11339332990344,48.093473858230524 L1.0605433106448878,52.582527942035654 L-4.607310728060904,45.310978547585634 L-1.7219520000000006,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:631px;top:757.5px" width="41.5" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 88 C -10 38 30.5 50 20.5 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-1.080432000000001,66.303232 L11.3951921061979,49.175511685817675 L2.9611229197005473,52.899283558177174 L-2.0087563356249163,45.13395676611713 L-1.080432000000001,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-1.080432000000001,66.303232 L11.3951921061979,49.175511685817675 L2.9611229197005473,52.899283558177174 L-2.0087563356249163,45.13395676611713 L-1.080432000000001,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:624.5px;top:885.5px" width="27.5" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 88 C -10 38 16.5 50 6.5 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.287796875,66.78168750000002 L6.909583187128906,47.692208722601364 L-0.7187601328819035,52.86988949607962 L-7.002214816791488,46.123171980483264 L-2.287796875,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.287796875,66.78168750000002 L6.909583187128906,47.692208722601364 L-0.7187601328819035,52.86988949607962 L-7.002214816791488,46.123171980483264 L-2.287796875,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:624px;top:1013.5px" width="21.5" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 88 C -10 38 10.5 50 0.5 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.7747343749999995,66.78168750000002 L4.918836648297567,47.038107153227145 L-2.286251050858403,52.790212093809444 L-9.072638757893003,46.54962382908555 L-2.7747343749999995,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.7747343749999995,66.78168750000002 L4.918836648297567,47.038107153227145 L-2.286251050858403,52.790212093809444 L-9.072638757893003,46.54962382908555 L-2.7747343749999995,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:617.5px;top:1141.5px" width="27.5" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 88 C -10 38 16.5 50 6.5 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.287796875,66.78168750000002 L6.909583187128906,47.692208722601364 L-0.7187601328819035,52.86988949607962 L-7.002214816791488,46.123171980483264 L-2.287796875,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.287796875,66.78168750000002 L6.909583187128906,47.692208722601364 L-0.7187601328819035,52.86988949607962 L-7.002214816791488,46.123171980483264 L-2.287796875,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:658.0266769263776px;top:1179.5px" width="20.473323073622403" height="141" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 40 C -10 90 -10 -50 0 0 " transform="translate(19.973323073622403,50.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#316b31" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.4569999999999963,49.16001999999999 L-8.714346841294152,28.91537600442066 L-10.77778447022079,37.90104376767174 L-19.973323073622403,37.23616047464146 L-2.4569999999999963,49.16001999999999" class="" stroke="#316b31" fill="#316b31" transform="translate(19.973323073622403,50.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.4569999999999963,49.16001999999999 L-8.714346841294152,28.91537600442066 L-10.77778447022079,37.90104376767174 L-19.973323073622403,37.23616047464146 L-2.4569999999999963,49.16001999999999" class="" stroke="#316b31" fill="#316b31" transform="translate(19.973323073622403,50.5)"></path></svg><div class="_jsPlumb_overlay l1 component label" id="jsPlumb_1_525" style="position: absolute; transform: translate(-50%, -50%); left: 670px; top: 1249.5px;">loop</div><svg style="position:absolute;left:617.5px;top:1269.5px" width="27" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 6 88 C 16 38 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M8.328375,66.78168750000002 L13.175164621094911,46.153826962153474 L6.848577140751924,52.86011437424426 L-0.7464085046608426,47.633624821401554 L8.328375,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M8.328375,66.78168750000002 L13.175164621094911,46.153826962153474 L6.848577140751924,52.86011437424426 L-0.7464085046608426,47.633624821401554 L8.328375,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:623.5px;top:1397.5px" width="21.5" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0.5 88 C 10.5 38 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M3.274734375,66.78168750000002 L9.572638757893003,46.54962382908555 L2.7862510508584033,52.790212093809444 L-4.4188366482975665,47.038107153227145 L3.274734375,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M3.274734375,66.78168750000002 L9.572638757893003,46.54962382908555 L2.7862510508584033,52.790212093809444 L-4.4188366482975665,47.038107153227145 L3.274734375,66.78168750000002" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:624px;top:1525.5px" width="28" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 7 88 C 17 38 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M9.235168,66.303232 L13.724569009562899,45.59465217000355 L7.514881717901915,52.40932631773681 L-0.1693366727002843,47.314938452101636 L9.235168,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M9.235168,66.303232 L13.724569009562899,45.59465217000355 L7.514881717901915,52.40932631773681 L-0.1693366727002843,47.314938452101636 L9.235168,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:631px;top:1653.5px" width="41.5" height="89" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 20.5 88 C 30.5 38 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M21.580432,66.303232 L22.50875633562492,45.13395676611712 L17.538877080299457,52.899283558177174 L9.1048078938021,49.17551168581767 L21.580432,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M21.580432,66.303232 L22.50875633562492,45.13395676611712 L17.538877080299457,52.899283558177174 L9.1048078938021,49.17551168581767 L21.580432,66.303232" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 665px; top: 620px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 652px; top: 748px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 652px; top: 708px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 631.5px; top: 876px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 631.5px; top: 836px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 625px; top: 1004px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 625px; top: 964px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 624.5px; top: 1132px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 624.5px; top: 1092px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 618px; top: 1260px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 618px; top: 1220px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint loop-source-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected _jsPlumb_endpoint_full" style="position: absolute; height: 20px; width: 20px; left: 668px; top: 1220px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#316b31" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint loop-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected _jsPlumb_endpoint_full" style="position: absolute; height: 20px; width: 20px; left: 668px; top: 1260px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#316b31" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 624px; top: 1388px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 624px; top: 1348px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 624.5px; top: 1516px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 624.5px; top: 1476px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 631.5px; top: 1644px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 631.5px; top: 1604px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable" style="position: absolute; height: 20px; width: 20px; left: 652px; top: 1772px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 652px; top: 1732px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div></div></div>
    </body>
</html>
 ]]>
        </visualization>
    </metadata>
</job>