<?xml version="1.0" encoding="UTF-8"?>
<job
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="urn:proactive:jobdescriptor:3.13" xsi:schemaLocation="urn:proactive:jobdescriptor:3.13 http://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.13/schedulerjob.xsd"  name="IRIS_Deploy_Predict_Flower_Classifier_Model" projectName="2. MaaS_ML Examples" priority="normal" onTaskError="continueJobExecution"  maxNumberOfExecution="2"  >
  <variables>
    <variable name="NATIVE_SCHEDULER" value=""     />
    <variable name="NATIVE_SCHEDULER_PARAMS" value=""     />
    <variable name="NODE_ACCESS_TOKEN" value=""     />
    <variable name="CONTAINER_PLATFORM" value="docker" model="PA:LIST(no-container,docker,podman,singularity)"    />
    <variable name="CONTAINER_GPU_ENABLED" value="False" model="PA:Boolean"    />
    <variable name="CONTAINER_IMAGE" value="" model="PA:LIST(,docker://activeeon/dlm3,docker://activeeon/cuda,docker://activeeon/cuda2,docker://activeeon/rapidsai,docker://activeeon/tensorflow:latest,docker://activeeon/tensorflow:latest-gpu)"    />
    <variable name="MODEL_SERVICE_INSTANCE_NAME" value="maas_ml-${PA_JOB_ID}"     />
    <variable name="MODEL_SERVICE_PROXYFIED" value="True" model="PA:Boolean"    />
    <variable name="MODEL_SERVICE_ENTRYPOINT" value="ml_service"     />
    <variable name="MODEL_SERVICE_YAML_FILE" value="ml_service-api"     />
    <variable name="MODEL_SERVICE_USER_NAME" value="user"     />
    <variable name="MODEL_SERVICE_NODE_NAME" value=""     />
    <variable name="MODEL_SERVICE_TOKEN" value=""     />
    <variable name="USE_NVIDIA_RAPIDS" value="False" model="PA:Boolean"    />
    <variable name="SERVICE_TOKEN" value=""     />
    <variable name="DRIFT_DETECTION_WINDOW_SIZE" value="50"     />
    <variable name="WORK_DIR" value="."     />
    <variable name="DATA_DRIFT_DETECTOR" value="HDDM" model="PA:LIST(HDDM,Page Hinkley, ADWIN)"    />
  </variables>
  <description>
    <![CDATA[ Train an Iris Flower Classifier, deploy it in a service and call the prediction endpoint to do the predictions. ]]>
  </description>
  <genericInformation>
    <info name="bucketName" value="model-as-a-service"/>
    <info name="workflow.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png"/>
    <info name="NS" value="$NATIVE_SCHEDULER"/>
    <info name="NODE_ACCESS_TOKEN" value="$NODE_ACCESS_TOKEN"/>
    <info name="Documentation" value="PML/PMLUserGuide.html#_deployment_pipeline_examples"/>
    <info name="NS_BATCH" value="$NATIVE_SCHEDULER_PARAMS"/>
    <info name="group" value="public-objects"/>
  </genericInformation>
  <taskFlow>
    <task name="Split_Data" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ Separate data into training and testing sets. ]]>
      </description>
      <variables>
        <variable name="TRAIN_SIZE" value="0.7" inherited="false"     />
        <variable name="TASK_ENABLED" value="True" inherited="false" model="PA:Boolean"    />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/data-processing.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_split_data"/>
      </genericInformation>
      <depends>
        <task ref="Load_Iris_Dataset"/>
      </depends>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/machine-learning/resources/Split_Data_Script/raw" language="cpython"></file>
        </script>
      </scriptExecutable>
      <controlFlow block="none"></controlFlow>
      <metadata>
        <positionTop>
            186.90973281860352
        </positionTop>
        <positionLeft>
            527.482666015625
        </positionLeft>
      </metadata>
    </task>
    <task name="Train_Model" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ Train a classification/clustering/anomaly detection model ]]>
      </description>
      <variables>
        <variable name="TASK_ENABLED" value="True" inherited="false"     />
        <variable name="LABEL_COLUMN" value="species" inherited="false"     />
        <variable name="N_SPLITS" value="5" inherited="false" model="PA:Integer"    />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/train.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_train_model"/>
      </genericInformation>
      <depends>
        <task ref="Split_Data"/>
        <task ref="Support_Vector_Machines"/>
      </depends>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <pre>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/auto-ml-optimization/resources/get_automl_token/raw" language="groovy"></file>
        </script>
      </pre>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/machine-learning/resources/Train_Model_Script/raw" language="cpython"></file>
        </script>
      </scriptExecutable>
      <controlFlow block="none"></controlFlow>
      <metadata>
        <positionTop>
            261.9097366333008
        </positionTop>
        <positionLeft>
            406.4583740234375
        </positionLeft>
      </metadata>
    </task>
    <task name="Support_Vector_Machines" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ Support Vector Machines are supervised learning models with associated learning algorithms that analyze data used for classification. ]]>
      </description>
      <variables>
        <variable name="TASK_ENABLED" value="True" inherited="false" model="PA:Boolean"    />
        <variable name="INPUT_VARIABLES" value="{&quot;probability&quot;: true}" inherited="false"     />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/ml_classification.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_support_vector_machines"/>
      </genericInformation>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <pre>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/auto-ml-optimization/resources/get_automl_params/raw" language="groovy"></file>
        </script>
      </pre>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/machine-learning/resources/Support_Vector_Machine_Script/raw" language="cpython"></file>
        </script>
      </scriptExecutable>
      <controlFlow block="none"></controlFlow>
      <metadata>
        <positionTop>
            125.90278625488281
        </positionTop>
        <positionLeft>
            174.47918701171875
        </positionLeft>
      </metadata>
    </task>
    <task name="Load_Iris_Dataset" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ Load and return the iris dataset classification. ]]>
      </description>
      <variables>
        <variable name="TASK_ENABLED" value="True" inherited="false" model="PA:Boolean"    />
        <variable name="IMPORT_FROM" value="PA:URL" inherited="false" model="PA:LIST(PA:URL,PA:URI,PA:USER_FILE,PA:GLOBAL_FILE)"    />
        <variable name="FILE_PATH" value="https://s3.eu-west-2.amazonaws.com/activeeon-public/datasets/iris.csv" inherited="false" model="$IMPORT_FROM"    />
        <variable name="FILE_DELIMITER" value="," inherited="false"     />
        <variable name="LIMIT_OUTPUT_VIEW" value="100" inherited="false" model="PA:Integer"    />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/load_dataset.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_load_iris_dataset"/>
      </genericInformation>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/machine-learning/resources/Load_Iris_Dataset_Script/raw" language="cpython"></file>
        </script>
      </scriptExecutable>
      <controlFlow block="none"></controlFlow>
      <metadata>
        <positionTop>
            77.8993148803711
        </positionTop>
        <positionLeft>
            428.47222900390625
        </positionLeft>
      </metadata>
    </task>
    <task name="MaaS_ML_Actions" 
    
    onTaskError="cancelJob" 
    
    
    fork="true">
      <description>
        <![CDATA[ Manage the life-cycle of MaaS_ML PSA. This workflow trigger three possible actions: Pause_MaaS_ML, Resume_MaaS_ML and Finish_MaaS_ML. ]]>
      </description>
      <variables>
        <variable name="ACTION" value="Finish_MaaS_ML" inherited="false" model="PA:LIST(Pause_MaaS_ML, Resume_MaaS_ML, Finish_MaaS_ML)"    />
        <variable name="INSTANCE_NAME" value="maas_ml-${PA_JOB_ID}" inherited="true"     />
        <variable name="INSTANCE_ID" value="" inherited="false"     />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_delete_finish_the_service"/>
      </genericInformation>
      <depends>
        <task ref="Loop"/>
      </depends>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Action/raw" language="groovy"></file>
        </script>
      </scriptExecutable>
      <controlFlow block="none"></controlFlow>
      <metadata>
        <positionTop>
            861.9271545410156
        </positionTop>
        <positionLeft>
            664.4791870117188
        </positionLeft>
      </metadata>
    </task>
    <task name="Wait_for_Signal" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ A template task that sends a ready notification for all the signals specified in the variable SIGNALS, then loops until one signal among those specified is received by the job. ]]>
      </description>
      <variables>
        <variable name="SIGNALS" value="Terminate_Job_and_Service,Make_New_Prediction" inherited="false"    advanced="false" hidden="false"/>
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/signal-wait.png"/>
        <info name="TASK.DOCUMENTATION" value="user/ProActiveUserGuide.html#_task_signal_api"/>
      </genericInformation>
      <depends>
        <task ref="MaaS_ML_Call_Prediction"/>
      </depends>
      <scriptExecutable>
        <script>
          <code language="groovy">
            <![CDATA[
import com.google.common.base.Splitter;

if (variables.get("PA_TASK_ITERATION_SIGNAL")==null){
	variables.put("PA_TASK_ITERATION_SIGNAL",0)
}
if (variables.get("PA_TASK_ITERATION_SIGNAL")==0){
    
    // Read the variable SIGNALS
	signals = variables.get("SIGNALS")

	// Split the value of the variable SIGNALS and transform it into a list
	Set signalsSet = new HashSet<>(Splitter.on(',').trimResults().omitEmptyStrings().splitToList(signals))
    
    // Send a ready notification for each signal in the set
    println("Ready for signals "+ signalsSet)
    signalsSet.each { 
        signal -> signalapi.readyForSignal(signal)
    }
    
    // Add the signals set as a variable to be used by next tasks
    variables.put("SIGNALS_SET", signalsSet)
}
variables.put("PA_TASK_ITERATION_SIGNAL",variables.get("PA_TASK_ITERATION_SIGNAL")+1)

//Read the variable SIGNALS_SET
Set signalsSet =  variables.get("SIGNALS_SET")

// Check whether one signal among those specified as input is received
println("Checking whether one signal in the set "+ signalsSet +" is received")
receivedSignal = signalapi.checkForSignals(signalsSet)

// If a signal is received, remove ready signals and break the loop, else sleep 10 seconds then restart
if (receivedSignal != null){
    
    // remove ready signals
	signalapi.removeManySignals(new HashSet<>(signalsSet.collect { signal -> "ready_"+signal }))    
    
    // print the received signal
    println("Received signal: "+ receivedSignal)
    result = receivedSignal
    
} else {
    result = null    
}
variables.put("RECEIVED_SIGNAL", receivedSignal)
]]>
          </code>
        </script>
      </scriptExecutable>
      <controlFlow >
        <loop target="Wait_for_Signal">
          <script>
            <code language="groovy">
              <![CDATA[
if (result!=null){
    loop = false
} else {
    loop = "* * * * *"
}
]]>
            </code>
          </script>
        </loop>
      </controlFlow>
      <metadata>
        <positionTop>
            664.9132385253906
        </positionTop>
        <positionLeft>
            592.482666015625
        </positionLeft>
      </metadata>
    </task>
    <task name="MaaS_ML_Service_Start" 
    
    onTaskError="cancelJob" 
    
    
    fork="true">
      <description>
        <![CDATA[ Start a model server to deploy ML models. ]]>
      </description>
      <variables>
        <variable name="SERVICE_ID" value="MaaS_ML" inherited="false"     />
        <variable name="INSTANCE_NAME" value="$MODEL_SERVICE_INSTANCE_NAME" inherited="false"     />
        <variable name="ENGINE" value="$CONTAINER_PLATFORM" inherited="false"     />
        <variable name="PROXYFIED" value="$MODEL_SERVICE_PROXYFIED" inherited="false"     />
        <variable name="PYTHON_ENTRYPOINT" value="$MODEL_SERVICE_ENTRYPOINT" inherited="false"     />
        <variable name="YAML_FILE" value="$MODEL_SERVICE_YAML_FILE" inherited="false"     />
        <variable name="USER_NAME" value="$MODEL_SERVICE_USER_NAME" inherited="false"     />
        <variable name="NODE_NAME" value="$MODEL_SERVICE_NODE_NAME" inherited="false"     />
        <variable name="NATIVE_SCHEDULER" value="" inherited="true"     />
        <variable name="NATIVE_SCHEDULER_PARAMS" value="" inherited="true"     />
        <variable name="GPU_ENABLED" value="$USE_NVIDIA_RAPIDS" inherited="false"     />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_start_a_generic_service_instance"/>
      </genericInformation>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/service-automation/resources/Service_Start/raw" language="groovy">
            <arguments>
              <argument value="true"/>
              <argument value="NATIVE_SCHEDULER"/>
              <argument value="NATIVE_SCHEDULER_PARAMS"/>
              <argument value="ENGINE"/>
              <argument value="PROXYFIED"/>
              <argument value="PYTHON_ENTRYPOINT"/>
              <argument value="YAML_FILE"/>
              <argument value="NODE_NAME"/>
              <argument value="GPU_ENABLED"/>
            </arguments>
          </file>
        </script>
      </scriptExecutable>
      <controlFlow block="none"></controlFlow>
      <post>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/model-as-a-service/resources/MaaS_Start_Post_Script/raw" language="groovy"></file>
        </script>
      </post>
      <metadata>
        <positionTop>
            251.87501525878906
        </positionTop>
        <positionLeft>
            175.46875
        </positionLeft>
      </metadata>
    </task>
    <task name="MaaS_ML_Deploy_Model" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ Deploy a ML model. ]]>
      </description>
      <variables>
        <variable name="DEPLOY_MODEL_ENDPOINT" value="" inherited="false"     />
        <variable name="API_EXTENSION" value="/api/deploy" inherited="false"     />
        <variable name="MODEL_URL" value="https://activeeon-public.s3.eu-west-2.amazonaws.com/models" inherited="false"     />
        <variable name="SERVICE_TOKEN" value="" inherited="true"     />
        <variable name="DRIFT_DETECTION_WINDOW_SIZE" value="50" inherited="true"     />
        <variable name="LOG_PREDICTIONS" value="true" inherited="false" model="PA:Boolean"    />
        <variable name="MODEL_NAME" value="iris_flowers_classifier" inherited="false"     />
        <variable name="MODEL_VERSION" value="1" inherited="false" model="PA:Integer"    />
        <variable name="BASELINE_DATA_URL" value="" inherited="false"     />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_deploy_a_specific_ml_model"/>
      </genericInformation>
      <depends>
        <task ref="MaaS_ML_Service_Start"/>
        <task ref="Train_Model"/>
      </depends>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/model-as-a-service/resources/MaaS_ML_Deploy_Model_Script/raw" language="cpython"></file>
        </script>
      </scriptExecutable>
      <metadata>
        <positionTop>
            363.90626525878906
        </positionTop>
        <positionLeft>
            305.46875
        </positionLeft>
      </metadata>
    </task>
    <task name="MaaS_ML_Call_Prediction" 
    
    
    
    preciousResult="true" 
    fork="true">
      <description>
        <![CDATA[ Call the launched service to predict results based on the last deployed model. ]]>
      </description>
      <variables>
        <variable name="PREDICT_MODEL_ENDPOINT" value="" inherited="false"     />
        <variable name="SERVICE_TOKEN" value="" inherited="true"     />
        <variable name="PREDICT_EXTENSION" value="/api/predict" inherited="false"     />
        <variable name="INPUT_DATA" value="" inherited="false"     />
        <variable name="LABEL_COLUMN" value="species" inherited="false"     />
        <variable name="DATA_DRIFT_DETECTOR" value="HDDM" inherited="true" model="PA:LIST(HDDM,Page Hinkley, ADWIN)"    />
        <variable name="MODEL_NAME" value="iris_flowers_classifier" inherited="false"     />
        <variable name="MODEL_VERSION" value="1" inherited="false" model="PA:Integer"    />
        <variable name="SAVE_PREDICTIONS" value="True" inherited="false" model="PA:Boolean" description="" group="" advanced="false" hidden="false"/>
        <variable name="DRIFT_ENABLED" value="True" inherited="false" model="PA:Boolean"    />
        <variable name="DRIFT_NOTIFICATION" value="False" inherited="false" model="PA:Boolean"    />
      </variables>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png"/>
        <info name="task.documentation" value="PML/PMLUserGuide.html#_call_the_service_for_predicition"/>
      </genericInformation>
      <depends>
        <task ref="Start"/>
      </depends>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <scriptExecutable>
        <script>
          <file url="${PA_CATALOG_REST_URL}/buckets/model-as-a-service/resources/MaaS_ML_Call_Prediction_Script/raw" language="cpython"></file>
        </script>
      </scriptExecutable>
      <post>
        <script>
          <code language="cpython">
            <![CDATA[

]]>
          </code>
        </script>
      </post>
      <metadata>
        <positionTop>
            555.8854370117188
        </positionTop>
        <positionLeft>
            567.46533203125
        </positionLeft>
      </metadata>
    </task>
    <task name="Start" 
    
    
    
    
    fork="true">
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/controls_loop.png"/>
        <info name="Documentation" value="user/ProActiveUserGuide.html#_loop"/>
      </genericInformation>
      <depends>
        <task ref="Get_Parameters"/>
      </depends>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <scriptExecutable>
        <script>
          <code language="cpython">
            <![CDATA[
import urllib.request
import ssl
import pandas as pd

global variables

# -------------------------------------------------------------
# Import an external python script containing a collection of
# common utility Python functions and classes
#PA_CATALOG_REST_URL = variables.get("PA_CATALOG_REST_URL")
#PA_PYTHON_UTILS_URL = PA_CATALOG_REST_URL + "/buckets/machine-learning/resources/Utils_Script/raw"
#if PA_PYTHON_UTILS_URL.startswith('https'):
#    exec(urllib.request.urlopen(PA_PYTHON_UTILS_URL, context=ssl._create_unverified_context()).read(), globals())
#else:
#    exec(urllib.request.urlopen(PA_PYTHON_UTILS_URL).read(), globals())
#global get_input_variables
#global raiser_ex
# -------------------------------------------------------------

input_variables = {
    'task.dataframe_id_test': None,
    'task.dataframe_id': None,
    'task.label_column': None,
    'task.feature_names': None,
}
#get_input_variables(input_variables)
input_variables['task.dataframe_id_test'] = variables.get("task.dataframe_id_test")
input_variables['task.label_column'] = variables.get("task.label_column")
input_variables['task.feature_names'] = variables.get("task.feature_names")

resultMetadata.put("task.dataframe_id_test", input_variables['task.dataframe_id_test'])
resultMetadata.put("task.label_column", input_variables['task.label_column'])
resultMetadata.put("task.feature_names", input_variables['task.feature_names'])

print("Loop block start ", str(variables.get('PA_TASK_ITERATION')))
]]>
          </code>
        </script>
      </scriptExecutable>
      <controlFlow block="start"></controlFlow>
      <metadata>
        <positionTop>
            449.8958435058594
        </positionTop>
        <positionLeft>
            668.4722290039062
        </positionLeft>
      </metadata>
    </task>
    <task name="Loop" 
    
    
    
    
    fork="true">
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/controls_loop.png"/>
      </genericInformation>
      <depends>
        <task ref="Wait_for_Signal"/>
      </depends>
      <scriptExecutable>
        <script>
          <code language="javascript">
            <![CDATA[
variables.remove("PA_TASK_ITERATION_SIGNAL")
print('Loop block end ' + variables.get('PA_TASK_ITERATION'))
]]>
          </code>
        </script>
      </scriptExecutable>
      <controlFlow  block="end">
        <loop target="Start">
          <script>
            <code language="groovy">
              <![CDATA[
if("Make_New_Prediction".equalsIgnoreCase(variables.get('RECEIVED_SIGNAL'))) {
    loop = true;
} else {
    loop = false;
}
]]>
            </code>
          </script>
        </loop>
      </controlFlow>
      <metadata>
        <positionTop>
            742.9167175292969
        </positionTop>
        <positionLeft>
            738.4722290039062
        </positionLeft>
      </metadata>
    </task>
    <task name="Get_Parameters" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ The simplest task, ran by a Python engine. ]]>
      </description>
      <depends>
        <task ref="Split_Data"/>
        <task ref="MaaS_ML_Deploy_Model"/>
      </depends>
      <forkEnvironment javaHome="/usr" >
        <envScript>
          <script>
            <file url="${PA_CATALOG_REST_URL}/buckets/scripts/resources/fork_env_ai/raw" language="groovy"></file>
          </script>
        </envScript>
      </forkEnvironment>
      <scriptExecutable>
        <script>
          <code language="cpython">
            <![CDATA[
import urllib.request
import ssl
import pandas as pd

global variables

# -------------------------------------------------------------
# Import an external python script containing a collection of
# common utility Python functions and classes
PA_CATALOG_REST_URL = variables.get("PA_CATALOG_REST_URL")
SERVICE_TOKEN = variables.get("SERVICE_TOKEN")

PA_PYTHON_UTILS_URL = PA_CATALOG_REST_URL + "/buckets/machine-learning/resources/Utils_Script/raw"
if PA_PYTHON_UTILS_URL.startswith('https'):
    exec(urllib.request.urlopen(PA_PYTHON_UTILS_URL, context=ssl._create_unverified_context()).read(), globals())
else:
    exec(urllib.request.urlopen(PA_PYTHON_UTILS_URL).read(), globals())
global get_input_variables
global raiser_ex
# -------------------------------------------------------------

input_variables = {
    'task.dataframe_id_test': None,
    'task.dataframe_id': None,
    'task.label_column': None,
    'task.feature_names': None,
}
get_input_variables(input_variables)

#resultMetadata.put("task.dataframe_id_test", input_variables['task.dataframe_id_test'])
#resultMetadata.put("task.label_column", input_variables['task.label_column'])
#resultMetadata.put("task.feature_names", input_variables['task.feature_names'])

variables.put("task.dataframe_id_test",input_variables['task.dataframe_id_test'])
variables.put("task.label_column",input_variables['task.label_column'])
variables.put("task.feature_names",input_variables['task.feature_names'])

variables.put("SERVICE_TOKEN", SERVICE_TOKEN)
]]>
          </code>
        </script>
      </scriptExecutable>
      <metadata>
        <positionTop>
            366.97918701171875
        </positionTop>
        <positionLeft>
            614.80908203125
        </positionLeft>
      </metadata>
    </task>
  </taskFlow>
  <metadata>
    <visualization>
      <![CDATA[ <html>
    <head>
    <link rel="stylesheet" href="/studio/styles/studio-standalone.css">
        <style>
        #workflow-designer {
            left:0 !important;
            top:0 !important;
            width:2340px;
            height:2693px;
            }
        </style>
    </head>
    <body>
    <div id="workflow-visualization-view"><div id="workflow-visualization" style="position:relative;top:-72.8993148803711px;left:-169.47918701171875px"><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_670" style="top: 186.927px; left: 527.483px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Separate data into training and testing sets."><img src="/automation-dashboard/styles/patterns/img/wf-icons/data-processing.png" width="20px">&nbsp;<span class="name">Split_Data</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_673" style="top: 261.927px; left: 406.459px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Train a classification/clustering/anomaly detection model"><img src="/automation-dashboard/styles/patterns/img/wf-icons/train.png" width="20px">&nbsp;<span class="name">Train_Model</span></a></div><div class="task _jsPlumb_endpoint_anchor_ ui-draggable" id="jsPlumb_1_676" style="top: 125.92px; left: 174.48px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Support Vector Machines are supervised learning models with associated learning algorithms that analyze data used for classification."><img src="/automation-dashboard/styles/patterns/img/wf-icons/ml_classification.png" width="20px">&nbsp;<span class="name">Support_Vector_Machines</span></a></div><div class="task _jsPlumb_endpoint_anchor_ ui-draggable" id="jsPlumb_1_679" style="top: 77.9166px; left: 428.473px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Load and return the iris dataset classification."><img src="/automation-dashboard/styles/patterns/img/wf-icons/load_dataset.png" width="20px">&nbsp;<span class="name">Load_Iris_Dataset</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_682" style="top: 861.944px; left: 664.48px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Manage the life-cycle of MaaS_ML PSA. This workflow trigger three possible actions: Pause_MaaS_ML, Resume_MaaS_ML and Finish_MaaS_ML."><img src="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png" width="20px">&nbsp;<span class="name">MaaS_ML_Actions</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_685" style="top: 664.93px; left: 592.483px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="A template task that sends a ready notification for all the signals specified in the variable SIGNALS, then loops until one signal among those specified is received by the job."><img src="/automation-dashboard/styles/patterns/img/wf-icons/signal-wait.png" width="20px">&nbsp;<span class="name">Wait_for_Signal</span></a></div><div class="task _jsPlumb_endpoint_anchor_ ui-draggable" id="jsPlumb_1_688" style="top: 251.892px; left: 175.469px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Start a model server to deploy ML models."><img src="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png" width="20px">&nbsp;<span class="name">MaaS_ML_Service_Start</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_691" style="top: 363.924px; left: 305.469px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Deploy a ML model."><img src="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png" width="20px">&nbsp;<span class="name">MaaS_ML_Deploy_Model</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_ active-task" id="jsPlumb_1_694" style="top: 555.892px; left: 567.465px; z-index: 24;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="Call the launched service to predict results based on the last deployed model."><img src="/automation-dashboard/styles/patterns/img/wf-icons/model_as_service.png" width="20px">&nbsp;<span class="name">MaaS_ML_Call_Prediction</span></a></div><div class="task block-start ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_697" style="top: 449.913px; left: 668.473px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="This task has no description"><img src="/automation-dashboard/styles/patterns/img/wf-icons/controls_loop.png" width="20px">&nbsp;<span class="name">Start</span></a></div><div class="task block-end ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_700" style="top: 742.934px; left: 738.473px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="This task has no description"><img src="/automation-dashboard/styles/patterns/img/wf-icons/controls_loop.png" width="20px">&nbsp;<span class="name">Loop</span></a></div><div class="task ui-draggable _jsPlumb_endpoint_anchor_" id="jsPlumb_1_703" style="top: 366.996px; left: 614.81px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="The simplest task, ran by a Python engine."><img src="/studio/images/Python.png" width="20px">&nbsp;<span class="name">Get_Parameters</span></a></div><svg style="position:absolute;left:476.5px;top:117.5px" width="112" height="70" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 91 69 C 101 19 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M83.07541175,46.37265825 L68.67490503113443,30.828353626122244 L70.70239675128646,39.82220026283531 L62.12444704396974,43.20136862483579 L83.07541175,46.37265825" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M83.07541175,46.37265825 L68.67490503113443,30.828353626122244 L70.70239675128646,39.82220026283531 L62.12444704396974,43.20136862483579 L83.07541175,46.37265825" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:446.5px;top:211.5px" width="142" height="66" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 35 C -10 -15 131 50 121 0 " transform="translate(10.5,15.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M13.389265999999997,15.95209 L34.028795994113445,20.748943304208016 L27.307217051590534,14.438604444888922 L32.51531043900237,6.830992252617478 L13.389265999999997,15.95209" class="" stroke="#666" fill="#666" transform="translate(10.5,15.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M13.389265999999997,15.95209 L34.028795994113445,20.748943304208016 L27.307217051590534,14.438604444888922 L32.51531043900237,6.830992252617478 L13.389265999999997,15.95209" class="" stroke="#666" fill="#666" transform="translate(10.5,15.5)"></path></svg><svg style="position:absolute;left:239.5px;top:165.5px" width="228" height="97" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 207 96 C 217 46 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M175.067424,66.05299199999999 L158.27233294392636,53.13304941428406 L161.77392763229224,61.66175591869654 L153.88109686262294,66.42654578199179 L175.067424,66.05299199999999" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M175.067424,66.05299199999999 L158.27233294392636,53.13304941428406 L161.77392763229224,61.66175591869654 L153.88109686262294,66.42654578199179 L175.067424,66.05299199999999" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:713px;top:782.5px" width="86.5" height="80" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 79 C -10 29 75.5 50 65.5 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M3.931999999999998,56.38400000000001 L23.409087309832568,48.03875764730832 L14.256611795521902,46.928716224683164 L13.953803534515725,37.71414585178642 L3.931999999999998,56.38400000000001" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M3.931999999999998,56.38400000000001 L23.409087309832568,48.03875764730832 L14.256611795521902,46.928716224683164 L13.953803534515725,37.71414585178642 L3.931999999999998,56.38400000000001" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:633.46533203125px;top:595.3923950195312px" width="22.03466796875" height="69.10760498046875" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector"><path d="M 1.03466796875 68.10760498046875 C 11.03466796875 18.10760498046875 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M3.6163824158935545,51.02364939079286 L10.056149949810276,30.836292106861116 L3.22612383164271,37.02908979652844 L-3.938409644454151,31.22655069111196 L3.6163824158935545,51.02364939079286" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M3.6163824158935545,51.02364939079286 L10.056149949810276,30.836292106861116 L3.22612383164271,37.02908979652844 L-3.938409644454151,31.22655069111196 L3.6163824158935545,51.02364939079286" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:678.0266769263776px;top:613.5px" width="20.473323073622403" height="141" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 40 C -10 90 -10 -50 0 0 " transform="translate(19.973323073622403,50.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#316b31" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.4569999999999963,49.16001999999999 L-8.714346841294152,28.91537600442066 L-10.77778447022079,37.90104376767174 L-19.973323073622403,37.23616047464146 L-2.4569999999999963,49.16001999999999" class="" stroke="#316b31" fill="#316b31" transform="translate(19.973323073622403,50.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M-2.4569999999999963,49.16001999999999 L-8.714346841294152,28.91537600442066 L-10.77778447022079,37.90104376767174 L-19.973323073622403,37.23616047464146 L-2.4569999999999963,49.16001999999999" class="" stroke="#316b31" fill="#316b31" transform="translate(19.973323073622403,50.5)"></path></svg><div class="_jsPlumb_overlay l1 component label" id="jsPlumb_1_724" style="position: absolute; transform: translate(-50%, -50%); left: 690px; top: 683.5px;">loop</div><svg style="position:absolute;left:238.5px;top:291.5px" width="153" height="73" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector"><path d="M 132 72 C 142 22 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M115.685376,47.321856000000004 L99.22644564716148,33.97630949038076 L102.50861863532857,42.59183852090153 L94.496428168063,47.15306685505219 L115.685376,47.321856000000004" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M115.685376,47.321856000000004 L99.22644564716148,33.97630949038076 L102.50861863532857,42.59183852090153 L94.496428168063,47.15306685505219 L115.685376,47.321856000000004" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:370.5px;top:301.5px" width="97" height="63" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 62 C -10 12 86 50 76 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M5.023999999999998,41.152 L25.83724090426913,37.17594629552641 L17.13547926538295,34.129744663984454 L18.814985568253583,25.064467030143454 L5.023999999999998,41.152" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M5.023999999999998,41.152 L25.83724090426913,37.17594629552641 L17.13547926538295,34.129744663984454 L18.814985568253583,25.064467030143454 L5.023999999999998,41.152" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:633.46533203125px;top:489.5px" width="96.03466796875" height="66.89239501953125" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector"><path d="M 0 65.89239501953125 C -10 15.89239501953125 85.03466796875 50 75.03466796875 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M4.923605468749997,44.63958593750001 L25.553812706616036,39.80279471576016 L16.733076486282258,37.12051722614582 L18.03474399526185,27.993323698227897 L4.923605468749997,44.63958593750001" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M4.923605468749997,44.63958593750001 L25.553812706616036,39.80279471576016 L16.733076486282258,37.12051722614582 L18.03474399526185,27.993323698227897 L4.923605468749997,44.63958593750001" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:658px;top:399.5px" width="71.5" height="58" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 50.5 43 C 60.5 -7 -10 50 0 0 " transform="translate(10.5,7.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M50.10962500000001,27.00025000000001 L38.15418308270098,9.505467676058696 L38.835655279309634,18.69979177548272 L29.853724858183696,20.779437396749067 L50.10962500000001,27.00025000000001" class="" stroke="#666" fill="#666" transform="translate(10.5,7.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M50.10962500000001,27.00025000000001 L38.15418308270098,9.505467676058696 L38.835655279309634,18.69979177548272 L29.853724858183696,20.779437396749067 L50.10962500000001,27.00025000000001" class="" stroke="#666" fill="#666" transform="translate(10.5,7.5)"></path></svg><svg style="position:absolute;left:634.5px;top:692.5px" width="165" height="62" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 144 39 C 154 -11 -10 50 0 0 " transform="translate(10.5,11.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M125.94355200000001,19.111872000000005 L106.809867055057,10.006812943208494 L112.02433691726145,17.610055939204443 L105.30805099426144,23.926028025947048 L125.94355200000001,19.111872000000005" class="" stroke="#666" fill="#666" transform="translate(10.5,11.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M125.94355200000001,19.111872000000005 L106.809867055057,10.006812943208494 L112.02433691726145,17.610055939204443 L105.30805099426144,23.926028025947048 L125.94355200000001,19.111872000000005" class="" stroke="#666" fill="#666" transform="translate(10.5,11.5)"></path></svg><svg style="position:absolute;left:758.5px;top:489.5px" width="91" height="254" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector "><path d="M 0 0 C -10 50 80 203 70 253 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#316b31" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M9.395575000000003,57.61594225000001 L22.351104510786428,74.3835972767216 L13.81499163786522,70.90009659195795 L9.066950168828482,78.80301391458683 L9.395575000000003,57.61594225000001" class="" stroke="#316b31" fill="#316b31" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M9.395575000000003,57.61594225000001 L22.351104510786428,74.3835972767216 L13.81499163786522,70.90009659195795 L9.066950168828482,78.80301391458683 L9.395575000000003,57.61594225000001" class="" stroke="#316b31" fill="#316b31" transform="translate(10.5,0.5)"></path></svg><div class="_jsPlumb_overlay l1 component label" id="jsPlumb_1_743" style="position: absolute; transform: translate(-50%, -50%); left: 803.5px; top: 616px;">loop</div><svg style="position:absolute;left:567.5px;top:226.5px" width="111.5" height="141" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector"><path d="M 90.5 140 C 100.5 90 -10 50 0 0 " transform="translate(10.5,0.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M80.209184,105.45152 L73.02966025451897,85.51526060190643 L71.38063150612949,94.58613179418919 L62.16427204870815,94.34381309577695 L80.209184,105.45152" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M80.209184,105.45152 L73.02966025451897,85.51526060190643 L71.38063150612949,94.58613179418919 L62.16427204870815,94.34381309577695 L80.209184,105.45152" class="" stroke="#666" fill="#666" transform="translate(10.5,0.5)"></path></svg><svg style="position:absolute;left:370.5px;top:316.5px" width="308.5" height="138" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector"><path d="M 287.5 0 C 297.5 -50 -10 87 0 37 " transform="translate(10.5,50.5)" pointer-events="visibleStroke" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="none" stroke="#666" style=""></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M238.66145500000002,-6.964542000000001 L220.62609681837546,4.15867045236769 L224.9866774695169,-3.9644654190117037 L217.62602023738714,-9.516107078115414 L238.66145500000002,-6.964542000000001" class="" stroke="#666" fill="#666" transform="translate(10.5,50.5)"></path><path pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" d="M238.66145500000002,-6.964542000000001 L220.62609681837546,4.15867045236769 L224.9866774695169,-3.9644654190117037 L217.62602023738714,-9.516107078115414 L238.66145500000002,-6.964542000000001" class="" stroke="#666" fill="#666" transform="translate(10.5,50.5)"></path></svg><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 568px; top: 217px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 568px; top: 177px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 447px; top: 292px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 447px; top: 252px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 240px; top: 156px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 477px; top: 108px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable" style="position: absolute; height: 20px; width: 20px; left: 713.5px; top: 892px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 713.5px; top: 852px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 635px; top: 694px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 635px; top: 654px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint loop-source-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected _jsPlumb_endpoint_full" style="position: absolute; height: 20px; width: 20px; left: 688px; top: 654px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#316b31" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint loop-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected _jsPlumb_endpoint_full" style="position: absolute; height: 20px; width: 20px; left: 688px; top: 694px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#316b31" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 239px; top: 282px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 371px; top: 394px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 371px; top: 354px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 633.965px; top: 585.892px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 633.965px; top: 545.892px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 709px; top: 480px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 709px; top: 440px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint loop-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected _jsPlumb_endpoint_full" style="position: absolute; height: 20px; width: 20px; left: 759px; top: 480px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#316b31" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 779px; top: 773px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 779px; top: 733px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint loop-source-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected _jsPlumb_endpoint_full" style="position: absolute; height: 20px; width: 20px; left: 829px; top: 733px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#316b31" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 658.5px; top: 397px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div><div class="_jsPlumb_endpoint target-endpoint dependency-target-endpoint _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable _jsPlumb_endpoint_connected" style="position: absolute; height: 20px; width: 20px; left: 658.5px; top: 357px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div></div></div>
    </body>
</html>
 ]]>
    </visualization>
  </metadata>
</job>